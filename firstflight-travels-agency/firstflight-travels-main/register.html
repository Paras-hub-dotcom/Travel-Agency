<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register Here</title>
    <link rel="icon" href="./files/logo.png" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Paytone+One&family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/boxicons@latest/css/boxicons.min.css"
    />
    <style>
      .error {
        color: red;
        font-size: 13px;
        margin: 3px 0 8px;
        display: none;
      }
      input.error-field,
      select.error-field {
        border: 1px solid red;
      }
    </style>
  </head>
  <body class="register-body">
    <nav>
      <img
        src="./files/logo.png"
        class="logo"
        alt="Logo"
        title="FirstFlight Travels"
      />
      <ul class="navbar">
        <li>
          <a href="./index.html">Home</a>
          <a href="./index.html#locations">Locations</a>
          <a href="./index.html#package">Packages</a>
          <a href="./about.html">About Us</a>
          <a href="./contact.html">Contact Us</a>
        </li>
      </ul>
    </nav>

    <section class="registration">
      <div class="register-form">
        <h1>Register <span>Here</span></h1>
        <form id="registerForm" novalidate>
          <!-- Name -->
          <input type="text" placeholder="Name" id="fullname" required />
          <div class="error" id="nameError">
            Name must be at least 3 characters.
          </div>

          <!-- Email -->
          <input type="email" placeholder="Email-Id" id="email" required />
          <div class="error" id="emailError">Enter a valid email address.</div>

          <!-- Phone -->
          <input type="tel" placeholder="Phone No." id="phonenum" required />
          <div class="error" id="phoneError">
            Phone number must be at least 10 digits.
          </div>

          <!-- Age -->
          <input type="number" placeholder="Age" id="age" required />
          <div class="error" id="ageError">Enter a valid age above 0.</div>

          <!-- Gender -->
          <h4>Gender</h4>
          <input type="radio" name="gender" value="Male" /> Male
          <input type="radio" name="gender" value="Female" /> Female
          <div class="error" id="genderError">Please select your gender.</div>

          <!-- Departure -->
          <h4>Departure</h4>
          <input type="datetime-local" id="departuredate" required />
          <div class="error" id="depError">
            Departure date cannot be in the past.
          </div>

          <!-- Return -->
          <h4>Return</h4>
          <input type="datetime-local" id="returndate" required />
          <div class="error" id="retError">
            Return date must be after departure.
          </div>

          <!-- Destination -->
          <h4>Travel Destination</h4>
          <input type="checkbox" name="td" value="Kashmir" /> Kashmir
          <input type="checkbox" name="td" value="Istanbul" /> Istanbul
          <input type="checkbox" name="td" value="Paris" /> Paris
          <input type="checkbox" name="td" value="Bali" /> Bali
          <input type="checkbox" name="td" value="Dubai" /> Dubai
          <input type="checkbox" name="td" value="Geneva" /> Geneva
          <input type="checkbox" name="td" value="Port Blair" /> Port Blair
          <input type="checkbox" name="td" value="Rome" /> Rome
          <div class="error" id="destError">
            Please select at least one destination.
          </div>

          <!-- Package -->
          <h4>Package</h4>
          <input type="radio" name="package" value="Bronze" /> Bronze
          <input type="radio" name="package" value="Silver" /> Silver
          <input type="radio" name="package" value="Gold" /> Gold
          <input type="radio" name="package" value="Platinum" /> Platinum
          <div class="error" id="packageError">Please select a package.</div>

          <!-- Terms -->
          <br />
          <input type="checkbox" id="terms" checked /> I accept the Terms &
          Conditions.
          <div class="error" id="termsError">
            You must accept Terms & Conditions.
          </div>

          <br /><br />
          <input type="submit" value="Submit" class="submitbtn" />
        </form>
      </div>
    </section>

    <!-- Footer -->
    <section class="footer">
      <div class="end">
        <p>
          Copyright © 2024 Firstflight Travels All Rights Reserved.<br />
          Website developed by: Paras Garg
        </p>
      </div>
    </section>

    <!-- JS Validation -->
    <script>
      document
        .getElementById("registerForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          let valid = true;

          // reset errors
          document
            .querySelectorAll(".error")
            .forEach((el) => (el.style.display = "none"));
          document
            .querySelectorAll("input")
            .forEach((el) => el.classList.remove("error-field"));

          // Name
          let name = document.getElementById("fullname");
          if (name.value.trim().length < 3) {
            document.getElementById("nameError").style.display = "block";
            name.classList.add("error-field");
            valid = false;
          }

          // Email
          let email = document.getElementById("email");
          let emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailPattern.test(email.value.trim())) {
            document.getElementById("emailError").style.display = "block";
            email.classList.add("error-field");
            valid = false;
          }

          // Phone
          let phone = document.getElementById("phonenum");
          if (phone.value.trim().length < 10 || isNaN(phone.value.trim())) {
            document.getElementById("phoneError").style.display = "block";
            phone.classList.add("error-field");
            valid = false;
          }

          // Age
          let age = document.getElementById("age");
          if (age.value <= 0) {
            document.getElementById("ageError").style.display = "block";
            age.classList.add("error-field");
            valid = false;
          }

          // Gender
          if (!document.querySelector("input[name='gender']:checked")) {
            document.getElementById("genderError").style.display = "block";
            valid = false;
          }

          // Dates
          let dep = new Date(document.getElementById("departuredate").value);
          let ret = new Date(document.getElementById("returndate").value);
          let today = new Date();
          today.setHours(0, 0, 0, 0);

          if (isNaN(dep.getTime()) || dep < today) {
            document.getElementById("depError").style.display = "block";
            valid = false;
          }
          if (isNaN(ret.getTime()) || ret <= dep) {
            document.getElementById("retError").style.display = "block";
            valid = false;
          }

          // Destination
          if (!document.querySelector("input[name='td']:checked")) {
            document.getElementById("destError").style.display = "block";
            valid = false;
          }

          // Package
          if (!document.querySelector("input[name='package']:checked")) {
            document.getElementById("packageError").style.display = "block";
            valid = false;
          }

          // Terms
          if (!document.getElementById("terms").checked) {
            document.getElementById("termsError").style.display = "block";
            valid = false;
          }

          if (valid) {
            alert("✅ Form submitted successfully!");
            this.reset();
          }
        });
    </script>
  </body>
</html>
